# README - Recurrent Neural Network Model
How to get the model running:

1. Open terminal
2. Navigate to 'medical-ner/rnn-ner'
3. run python ml_corpus_annotator.py \<path_to_input_text\> \<path_to_seed_directory\>

    Where 
    \<path_to_input_text\> is the path to the corpus text file
    \<path_to_seed_directory\> is the path to a directory containing lists of seed-terms separated by newlines

    This call will by default create data/corpus_targets.txt

4. run python seq_from_corpus.py \<path_to_input_textfile\> \<path_to_targetfile\>
    Where  
    \<path_to_input_textfile\> is the path to the corpus text file
    \<path_to_targetfile\> is the path to the corresponding target file for the above file generated by ml_corpus_annotator.py

    Aditional arguments:  
    --seq_length        The length of each sequence generated, must correspond to the one set in the settings for the network. Default: 60  
    --variants          How many sequences of each word encounterd will be produced. Default: 3  
    --num_categories    How many classification categories exist. Default: 3  
    --no_validation     Setting this to true will not split the training data into 10% Validation and 90% training. NOT RECOMMENDED  

    This call will by default create 4 files in the data directory, tf_inputs.txt, tf_targets.txt, tf_validation_inputs.txt, tf_validation_targets.txt

5. run python bi_ner_train.py \<instance_name\>  

    Where  
    \<instance_name\>     Is the name of the run   
    --from_checkpoint   If the instance_name has been used previously the training will continue where it left off.  

    Settings can be controlled via the Config in bi_ner_model.py.  
    The progress will be saved continously in the save/<instance_name> directory.  
    Plots of training loss as well as validation loss can be viewed with tensorboard, which also will be created in save/<instance_name>/tensorboard/


6. After training is done, one can use the model to infer classification of a text.  

    run python bi_ner_infer.py <instance_name> <path_to_text_file>  

    Where  
    <instance_name>     Is the name of the model to be infered from.  
    <path_to_text_file> Is the path to the textfile to be classified.  

